(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{351:function(t,s,a){"use strict";a.r(s);var e=a(12),l=Object(e.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"项目中遇到的问题总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目中遇到的问题总结","aria-hidden":"true"}},[t._v("#")]),t._v(" 项目中遇到的问题总结")]),t._v(" "),a("p",[t._v("作者：杨静")]),a("p",[a("span",{staticClass:"lake-fontsize-11"},[t._v("一、")]),a("span",{staticClass:"lake-fontsize-11"},[t._v("路由")])]),a("p",[a("span",{staticClass:"lake-fontsize-11"},[t._v("现在项目用的路由是两种方式：业务路由和协议")])]),a("p",{staticStyle:{"text-align":"left"}},[a("span",{staticClass:"lake-fontsize-11"},[t._v("1、业务路由：")]),a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"#191F25"}},[t._v("dst://page/social-maintenance?{0}")])]),a("p",{staticStyle:{"text-align":"left"}},[a("span",{staticClass:"lake-fontsize-11"},[t._v("此路由需要服务端和"),a("span",[t._v("APP")]),t._v("端的配合，添加参数和路径"),a("span",[t._v("APP")]),t._v("端也需要做相应的修改，依赖"),a("span",[t._v("APP")]),t._v("端发版")])]),a("p",{staticStyle:{"text-align":"left"}},[a("span",{staticClass:"lake-fontsize-11"},[t._v("2")]),a("span",{staticClass:"lake-fontsize-11"},[t._v("、协议：")])]),a("p",{staticStyle:{"text-align":"left"}},[a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"#191F25"}},[t._v("dst://open/webv?url=http://f2e-qe.souche.com/projects/finance/tangeche-app/#/server/social-         maintenance?")]),a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"#191F25"}},[t._v("carModelCode={0}&plateNumber={1}此方式不需要依赖"),a("span",[t._v("APP")]),t._v("端，只需要服务端修改路由和       参数即可，但是"),a("span",[t._v("iOS")]),t._v("端，"),a("span",[t._v("#")]),t._v("和？及后面参数要进行编码，如果参数有汉字和特殊符号，要进行两次编码：如：           dst://open/webv?url=http://f2e-qe.souche.com/projects/finance/tangeche-app/#/server/social-           maintenance?")]),a("span",{staticClass:"lake-fontsize-11"}),a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"#191F25"}},[t._v("carModelCode=229702&plateNumber=")]),a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"#191F25"}},[t._v("浙"),a("span",[t._v("S")]),t._v("·"),a("span",[t._v("1234")])]),a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"#191F25"}},[t._v(' ，需要对"浙'),a("span",[t._v("S")]),t._v("·"),a("span",[t._v('12345"')]),t._v("进行两次编码：           dst://open/webv?url=http://f2e-qe.souche.com/projects/finance/tangeche-app/%23/server/social-     maintenance%3fcarModelCode%3d229702%26plateNumber%3d%25e6%25b5%2599S%25c2%25b712345")])]),a("p",[a("span",{staticClass:"lake-fontsize-11"})]),a("p",[a("span",{staticClass:"lake-fontsize-11"},[t._v("二、 ")]),a("span",{staticClass:"lake-fontsize-11"},[t._v("页面跳转")])]),a("p",[a("span",{staticClass:"lake-fontsize-11"},[t._v("不同的首页，进入一套详情")]),a("span",{staticClass:"lake-fontsize-11"},[t._v("-")]),a("span",{staticClass:"lake-fontsize-11"},[t._v("订单")]),a("span",{staticClass:"lake-fontsize-11"},[t._v("-")]),a("span",{staticClass:"lake-fontsize-11"},[t._v("支付成功")]),a("span",{staticClass:"lake-fontsize-11"},[t._v("-")]),a("span",{staticClass:"lake-fontsize-11"},[t._v("返回首页，建议使用公司的")]),a("span",{staticClass:"lake-fontsize-11"},[t._v("tag")]),a("span",{staticClass:"lake-fontsize-11"},[t._v("方式，")]),a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"black"}},[t._v("setWebViewTag")]),a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"black"}},[t._v("和")]),a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"black"}},[t._v("openTagWebView")]),a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"black"}},[t._v("，不要使用")]),a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"black"}},[t._v("vue")]),a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"black"}},[t._v("自带的")]),a("strong",[a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"black"}},[a("span",[t._v("this")]),t._v(".")])]),a("strong",[a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"#000000"}},[a("span",[t._v("$router")])])]),a("strong",[a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"#000000"}},[t._v(".")])]),a("strong",[a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"#000000"}},[t._v("go")])]),a("strong",[a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"#000000"}},[t._v("(-")])]),a("strong",[a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"#000000"}},[t._v("3")])]),a("strong",[a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"#000000"}},[t._v(");")])]),a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"#000000"}},[t._v("这种方式，")]),a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"black"}},[t._v("openTagWebView")]),a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"black"}},[t._v("容易进行路径追踪和后期的需求修改，代码可读性和修改性比较强")])]),a("p",[a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"black"}},[a("br")])]),a("p",[a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"black"}},[t._v("三、图片")])]),a("p",[a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"black"}},[t._v("1、安卓手机浏览大图使用的Okhttp，不支持跨协议的重定向")])]),a("p",{staticStyle:{"text-indent":"2em"}},[t._v("预发环境是从http://重定向到https://")]),a("p",{staticStyle:{"text-indent":"2em"}},[t._v("线上环境是从https://重定向到https://")]),a("p",[a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"black"}},[t._v("2、授权  含有")]),t._v("imagestore的都需要授权"),a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"black"}},[t._v("（")]),a("a",{attrs:{href:"https://imagestore.souche.com/route/tJc5SANCSg.jpg?qn=0.5964766640090738",target:"_blank"}},[a("span",{staticStyle:{color:"#000000"}},[t._v("htt")]),a("span",{staticStyle:{color:"#000000"}},[t._v("ps://imagestore.souche.com/route/tJc5SANCSg.jpg?                 qn=0.5964766640090738")])]),t._v('";"> '),a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"black"}},[t._v("），2种方案")])]),a("p",{staticStyle:{"padding-left":"2em"}},[a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"black"}},[t._v("a.  第一种方式的授权：需要服务端向影像件服务获取一个授权访问的url，该url带有一个授权token（默认             一分钟有效）")])]),a("p",{staticStyle:{"padding-left":"2em"}},[t._v("b. 第二种授权策略：客户端访问影像件url，带上用户信息，即token（在启用访问鉴权的情况下，影像件只      允许大搜车内部员工和相应有授权的店铺和用户能够访问该影像件资料）")]),a("p",[a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"black"}},[a("br")])]),a("p",[a("span",{staticClass:"lake-fontsize-11",staticStyle:{color:"black"}},[a("br")])])])},[],!1,null,null,null);s.default=l.exports}}]);